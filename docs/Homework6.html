<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Noah W.K. Mattheis" />

<meta name="date" content="2025-02-19" />

<title>Homework6</title>

<script src="site_libs/header-attrs-2.29/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #204a87; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #204a87; font-weight: bold; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #ce5c00; font-weight: bold; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>







<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Noah Mattheis BIOL6100 Homework Hub</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li>
  <a href="Homework.html">Homeworks</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Homework6</h1>
<h4 class="author">Noah W.K. Mattheis</h4>
<h4 class="date">2025-02-19</h4>

</div>


<div id="creating-fake-data-sets-to-explore-hypotheses"
class="section level1">
<h1>Creating Fake Data Sets to Explore Hypotheses</h1>
<div id="fake-hypothesis" class="section level2">
<h2>Fake Hypothesis</h2>
<p>H0: People in colder regions and warmer regions have same resilience
to flu</p>
<p>H1: People in colder regions are more resilient to flu then people in
warmer regions</p>
<p>For this test, will be looking at data from 2023 to 2024, for months
Oct, Nov, and Dec High ILI Activity means that large proportion of
patient visits are due to influenza like symptoms</p>
<p>In data, when assigning states, 1 = warmer region and 2 = colder
region</p>
</div>
<div id="setting-up-fake-data-to-test" class="section level2">
<h2>Setting up fake data to test</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co"># Declaring Means and Standard Deviations of samples</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="co"># mean and standard deviation will not be negative here as avg number of flu cases present should be positive, 0 at least in a wildly healthy world</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>mean1 <span class="ot">=</span> <span class="dv">30</span></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>stdev1 <span class="ot">=</span> <span class="dv">4</span></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a><span class="co"># Creating random normal samples based on means and standard deviations</span></span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a>flu_cases <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>,</span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a>                   <span class="at">mean =</span> mean1,</span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a>                   <span class="at">sd =</span> stdev1)</span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a><span class="fu">head</span>(flu_cases)</span></code></pre></div>
<pre><code>## [1] 38.43207 32.60400 31.97842 29.40767 24.20433 30.78103</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># Creating data set with descriptive columns based on generated samples</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>flu_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(flu_cases)</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="co"># Randomly assign categorical</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>flu_data<span class="sc">$</span>states <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="fu">head</span>(flu_data)</span></code></pre></div>
<pre><code>##   flu_cases states
## 1  38.43207      1
## 2  32.60400      2
## 3  31.97842      1
## 4  29.40767      2
## 5  24.20433      1
## 6  30.78103      2</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co"># Creating Var of data and adding that to data &lt;- double check, unsure if he wants us to provide a var or find it</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>flu_data<span class="sc">$</span>variance <span class="ot">&lt;-</span> <span class="fu">var</span>(flu_cases)</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="fu">head</span>(flu_data)</span></code></pre></div>
<pre><code>##   flu_cases states variance
## 1  38.43207      1 16.02999
## 2  32.60400      2 16.02999
## 3  31.97842      1 16.02999
## 4  29.40767      2 16.02999
## 5  24.20433      1 16.02999
## 6  30.78103      2 16.02999</code></pre>
</div>
<div id="performing-anovahypothesis-testing" class="section level2">
<h2>Performing ANOVA/Hypothesis Testing</h2>
<p>Here we will test our fake data using ANOVA</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>flu_data_aov <span class="ot">&lt;-</span> <span class="fu">aov</span>(flu_cases<span class="sc">~</span>states, <span class="at">data =</span> flu_data)</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="fu">summary</span>(flu_data_aov)</span></code></pre></div>
<pre><code>##             Df Sum Sq Mean Sq F value Pr(&gt;F)
## states       1    2.7   2.717   0.168  0.683
## Residuals   98 1584.3  16.166</code></pre>
</div>
<div id="using-for-loops-to-test-different-parameters"
class="section level2">
<h2>Using for loops to test different parameters</h2>
<p>Here we are going to set up for loops to iterate through other
parameters with the data, seeing how much we need to achieve a p-value
&lt; 0.05</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>n <span class="ot">=</span> <span class="dv">1000</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>count <span class="ot">=</span> <span class="dv">0</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>smallest_sample_size <span class="ot">=</span> <span class="dv">0</span></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>seq_5 <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>, n, <span class="at">by =</span> <span class="dv">5</span>)</span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>seq_10 <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>, n, <span class="at">by =</span> <span class="dv">10</span>)</span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(seq_5)) {</span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a>  flu_cases <span class="ot">&lt;-</span> (<span class="fu">rnorm</span>(seq_5[i],</span>
<span id="cb9-11"><a href="#cb9-11" tabindex="-1"></a>                   <span class="at">mean =</span> mean1,</span>
<span id="cb9-12"><a href="#cb9-12" tabindex="-1"></a>                   <span class="at">sd =</span> stdev1))</span>
<span id="cb9-13"><a href="#cb9-13" tabindex="-1"></a>  flu_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(flu_cases)</span>
<span id="cb9-14"><a href="#cb9-14" tabindex="-1"></a>  flu_data<span class="sc">$</span>states <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="fu">length</span>(flu_cases), <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb9-15"><a href="#cb9-15" tabindex="-1"></a>  flu_data<span class="sc">$</span>variance <span class="ot">&lt;-</span> <span class="fu">var</span>(flu_cases)</span>
<span id="cb9-16"><a href="#cb9-16" tabindex="-1"></a>  </span>
<span id="cb9-17"><a href="#cb9-17" tabindex="-1"></a>  flu_data_aov <span class="ot">&lt;-</span> <span class="fu">aov</span>(flu_cases<span class="sc">~</span>states, <span class="at">data =</span> flu_data)</span>
<span id="cb9-18"><a href="#cb9-18" tabindex="-1"></a>  flu_data_sum <span class="ot">&lt;-</span> <span class="fu">summary</span>(flu_data_aov)</span>
<span id="cb9-19"><a href="#cb9-19" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>,<span class="st">&quot;The sample size is -&gt;&quot;</span>, seq_5[i], <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb9-20"><a href="#cb9-20" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;The p-value is -&gt;&quot;</span>, flu_data_sum[[<span class="dv">1</span>]]<span class="sc">$</span><span class="st">`</span><span class="at">Pr(&gt;F)</span><span class="st">`</span>[<span class="dv">1</span>], <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb9-21"><a href="#cb9-21" tabindex="-1"></a>  </span>
<span id="cb9-22"><a href="#cb9-22" tabindex="-1"></a>  <span class="cf">if</span> (i <span class="sc">&gt;</span> <span class="dv">1</span> <span class="sc">&amp;</span> count <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb9-23"><a href="#cb9-23" tabindex="-1"></a>     <span class="cf">if</span> (flu_data_sum[[<span class="dv">1</span>]]<span class="sc">$</span><span class="st">`</span><span class="at">Pr(&gt;F)</span><span class="st">`</span>[<span class="dv">1</span>] <span class="sc">&lt;</span> <span class="fl">0.05</span>) {</span>
<span id="cb9-24"><a href="#cb9-24" tabindex="-1"></a>    smallest_sample_size <span class="ot">=</span> seq_5[i]</span>
<span id="cb9-25"><a href="#cb9-25" tabindex="-1"></a>     }</span>
<span id="cb9-26"><a href="#cb9-26" tabindex="-1"></a>  }</span>
<span id="cb9-27"><a href="#cb9-27" tabindex="-1"></a>  </span>
<span id="cb9-28"><a href="#cb9-28" tabindex="-1"></a>  <span class="cf">if</span> (i <span class="sc">&gt;</span> <span class="dv">1</span>) {</span>
<span id="cb9-29"><a href="#cb9-29" tabindex="-1"></a>    <span class="cf">if</span> (flu_data_sum[[<span class="dv">1</span>]]<span class="sc">$</span><span class="st">`</span><span class="at">Pr(&gt;F)</span><span class="st">`</span>[<span class="dv">1</span>] <span class="sc">&lt;</span> <span class="fl">0.05</span>) {</span>
<span id="cb9-30"><a href="#cb9-30" tabindex="-1"></a>      count <span class="ot">=</span> count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb9-31"><a href="#cb9-31" tabindex="-1"></a>     <span class="fu">cat</span>(<span class="st">&quot;There is a signifact difference between colder and warmer region flu cases at a sample size of &quot;</span>, seq_5[i], <span class="st">&quot;with a p-value of &quot;</span>, flu_data_sum[[<span class="dv">1</span>]]<span class="sc">$</span><span class="st">`</span><span class="at">Pr(&gt;F)</span><span class="st">`</span>[<span class="dv">1</span>], <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb9-32"><a href="#cb9-32" tabindex="-1"></a>      }</span>
<span id="cb9-33"><a href="#cb9-33" tabindex="-1"></a>    </span>
<span id="cb9-34"><a href="#cb9-34" tabindex="-1"></a>  }</span>
<span id="cb9-35"><a href="#cb9-35" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Total signifcant flu cases &quot;</span>, count, <span class="st">&quot;out of &quot;</span>, i, <span class="st">&quot;trials&quot;</span>, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>) </span>
<span id="cb9-36"><a href="#cb9-36" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Smallest sample size for significant difference&quot;</span>, smallest_sample_size, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb9-37"><a href="#cb9-37" tabindex="-1"></a>}</span>
<span id="cb9-38"><a href="#cb9-38" tabindex="-1"></a></span>
<span id="cb9-39"><a href="#cb9-39" tabindex="-1"></a><span class="co"># Need to reset counter for each loop</span></span>
<span id="cb9-40"><a href="#cb9-40" tabindex="-1"></a>count <span class="ot">=</span> <span class="dv">0</span></span>
<span id="cb9-41"><a href="#cb9-41" tabindex="-1"></a></span>
<span id="cb9-42"><a href="#cb9-42" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(seq_10)) {</span>
<span id="cb9-43"><a href="#cb9-43" tabindex="-1"></a>  flu_cases <span class="ot">&lt;-</span> (<span class="fu">rnorm</span>(seq_10[i],</span>
<span id="cb9-44"><a href="#cb9-44" tabindex="-1"></a>                   <span class="at">mean =</span> mean1,</span>
<span id="cb9-45"><a href="#cb9-45" tabindex="-1"></a>                   <span class="at">sd =</span> stdev1))</span>
<span id="cb9-46"><a href="#cb9-46" tabindex="-1"></a>  flu_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(flu_cases)</span>
<span id="cb9-47"><a href="#cb9-47" tabindex="-1"></a>  flu_data<span class="sc">$</span>states <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="fu">length</span>(flu_cases), <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb9-48"><a href="#cb9-48" tabindex="-1"></a>  flu_data<span class="sc">$</span>variance <span class="ot">&lt;-</span> <span class="fu">var</span>(flu_cases)</span>
<span id="cb9-49"><a href="#cb9-49" tabindex="-1"></a>  </span>
<span id="cb9-50"><a href="#cb9-50" tabindex="-1"></a>  flu_data_aov <span class="ot">&lt;-</span> <span class="fu">aov</span>(flu_cases<span class="sc">~</span>states, <span class="at">data =</span> flu_data)</span>
<span id="cb9-51"><a href="#cb9-51" tabindex="-1"></a>  flu_data_sum <span class="ot">&lt;-</span> <span class="fu">summary</span>(flu_data_aov)</span>
<span id="cb9-52"><a href="#cb9-52" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>,<span class="st">&quot;The sample size is -&gt;&quot;</span>, seq_10[i], <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb9-53"><a href="#cb9-53" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;The p-value is -&gt;&quot;</span>, flu_data_sum[[<span class="dv">1</span>]]<span class="sc">$</span><span class="st">`</span><span class="at">Pr(&gt;F)</span><span class="st">`</span>[<span class="dv">1</span>], <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb9-54"><a href="#cb9-54" tabindex="-1"></a>  </span>
<span id="cb9-55"><a href="#cb9-55" tabindex="-1"></a>  <span class="cf">if</span> (i <span class="sc">&gt;</span> <span class="dv">1</span> <span class="sc">&amp;</span> count <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb9-56"><a href="#cb9-56" tabindex="-1"></a>     <span class="cf">if</span> (flu_data_sum[[<span class="dv">1</span>]]<span class="sc">$</span><span class="st">`</span><span class="at">Pr(&gt;F)</span><span class="st">`</span>[<span class="dv">1</span>] <span class="sc">&lt;</span> <span class="fl">0.05</span>) {</span>
<span id="cb9-57"><a href="#cb9-57" tabindex="-1"></a>    smallest_sample_size <span class="ot">=</span> seq_10[i]</span>
<span id="cb9-58"><a href="#cb9-58" tabindex="-1"></a>     }</span>
<span id="cb9-59"><a href="#cb9-59" tabindex="-1"></a>  }</span>
<span id="cb9-60"><a href="#cb9-60" tabindex="-1"></a>  </span>
<span id="cb9-61"><a href="#cb9-61" tabindex="-1"></a> <span class="cf">if</span> (i <span class="sc">&gt;</span> <span class="dv">1</span>) {</span>
<span id="cb9-62"><a href="#cb9-62" tabindex="-1"></a>    <span class="cf">if</span> (flu_data_sum[[<span class="dv">1</span>]]<span class="sc">$</span><span class="st">`</span><span class="at">Pr(&gt;F)</span><span class="st">`</span>[<span class="dv">1</span>] <span class="sc">&lt;</span> <span class="fl">0.05</span>) {</span>
<span id="cb9-63"><a href="#cb9-63" tabindex="-1"></a>    count <span class="ot">=</span> count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb9-64"><a href="#cb9-64" tabindex="-1"></a>     <span class="fu">cat</span>(<span class="st">&quot;There is a signifact difference between colder and warmer region flu cases at a sample size of &quot;</span>, seq_10[i], <span class="st">&quot;with a p-value of &quot;</span>, flu_data_sum[[<span class="dv">1</span>]]<span class="sc">$</span><span class="st">`</span><span class="at">Pr(&gt;F)</span><span class="st">`</span>[<span class="dv">1</span>], <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb9-65"><a href="#cb9-65" tabindex="-1"></a>      }</span>
<span id="cb9-66"><a href="#cb9-66" tabindex="-1"></a>    </span>
<span id="cb9-67"><a href="#cb9-67" tabindex="-1"></a>  }</span>
<span id="cb9-68"><a href="#cb9-68" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Total signifcant flu cases &quot;</span>, count, <span class="st">&quot;out of &quot;</span>, i, <span class="st">&quot;trials&quot;</span>, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb9-69"><a href="#cb9-69" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Smallest sample size for significant difference&quot;</span>, smallest_sample_size, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb9-70"><a href="#cb9-70" tabindex="-1"></a>} </span></code></pre></div>
<p>Here we can see that as we alter the sample size and iterate through
different sample sizes, we get close to having significant differences
but it is not likely to happen (about 5 - 15% of the time). Now we will
use loops to alter Mean and Standard Deviation to see if we can get
significant changes.</p>
<p>First we will look at the mean:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>n <span class="ot">=</span> <span class="dv">1000</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>count <span class="ot">=</span> <span class="dv">0</span></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>smallest_mean_size <span class="ot">=</span> <span class="dv">0</span></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a>seq_5 <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>, n, <span class="at">by =</span> <span class="dv">5</span>)</span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a>seq_10 <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>, n, <span class="at">by =</span> <span class="dv">10</span>)</span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a></span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(seq_5)) {</span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a>  flu_cases <span class="ot">&lt;-</span> (<span class="fu">rnorm</span>(n,</span>
<span id="cb10-11"><a href="#cb10-11" tabindex="-1"></a>                   <span class="at">mean =</span> seq_5[i],</span>
<span id="cb10-12"><a href="#cb10-12" tabindex="-1"></a>                   <span class="at">sd =</span> stdev1))</span>
<span id="cb10-13"><a href="#cb10-13" tabindex="-1"></a>  flu_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(flu_cases)</span>
<span id="cb10-14"><a href="#cb10-14" tabindex="-1"></a>  flu_data<span class="sc">$</span>states <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="fu">length</span>(flu_cases), <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb10-15"><a href="#cb10-15" tabindex="-1"></a>  flu_data<span class="sc">$</span>variance <span class="ot">&lt;-</span> <span class="fu">var</span>(flu_cases)</span>
<span id="cb10-16"><a href="#cb10-16" tabindex="-1"></a>  </span>
<span id="cb10-17"><a href="#cb10-17" tabindex="-1"></a>  flu_data_aov <span class="ot">&lt;-</span> <span class="fu">aov</span>(flu_cases<span class="sc">~</span>states, <span class="at">data =</span> flu_data)</span>
<span id="cb10-18"><a href="#cb10-18" tabindex="-1"></a>  flu_data_sum <span class="ot">&lt;-</span> <span class="fu">summary</span>(flu_data_aov)</span>
<span id="cb10-19"><a href="#cb10-19" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>,<span class="st">&quot;The mean is -&gt;&quot;</span>, seq_5[i], <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb10-20"><a href="#cb10-20" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;The p-value is -&gt;&quot;</span>, flu_data_sum[[<span class="dv">1</span>]]<span class="sc">$</span><span class="st">`</span><span class="at">Pr(&gt;F)</span><span class="st">`</span>[<span class="dv">1</span>], <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb10-21"><a href="#cb10-21" tabindex="-1"></a>  </span>
<span id="cb10-22"><a href="#cb10-22" tabindex="-1"></a>  <span class="cf">if</span> (i <span class="sc">&gt;</span> <span class="dv">1</span> <span class="sc">&amp;</span> count <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb10-23"><a href="#cb10-23" tabindex="-1"></a>     <span class="cf">if</span> (flu_data_sum[[<span class="dv">1</span>]]<span class="sc">$</span><span class="st">`</span><span class="at">Pr(&gt;F)</span><span class="st">`</span>[<span class="dv">1</span>] <span class="sc">&lt;</span> <span class="fl">0.05</span>) {</span>
<span id="cb10-24"><a href="#cb10-24" tabindex="-1"></a>    smallest_mean_size <span class="ot">=</span> seq_5[i]</span>
<span id="cb10-25"><a href="#cb10-25" tabindex="-1"></a>     }</span>
<span id="cb10-26"><a href="#cb10-26" tabindex="-1"></a>  }</span>
<span id="cb10-27"><a href="#cb10-27" tabindex="-1"></a>  </span>
<span id="cb10-28"><a href="#cb10-28" tabindex="-1"></a>  <span class="cf">if</span> (i <span class="sc">&gt;</span> <span class="dv">1</span>) {</span>
<span id="cb10-29"><a href="#cb10-29" tabindex="-1"></a>    <span class="cf">if</span> (flu_data_sum[[<span class="dv">1</span>]]<span class="sc">$</span><span class="st">`</span><span class="at">Pr(&gt;F)</span><span class="st">`</span>[<span class="dv">1</span>] <span class="sc">&lt;</span> <span class="fl">0.05</span>) {</span>
<span id="cb10-30"><a href="#cb10-30" tabindex="-1"></a>      count <span class="ot">=</span> count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb10-31"><a href="#cb10-31" tabindex="-1"></a>     <span class="fu">cat</span>(<span class="st">&quot;There is a signifact difference between colder and warmer region flu cases at a mean value of &quot;</span>, seq_5[i], <span class="st">&quot;with a p-value of &quot;</span>, flu_data_sum[[<span class="dv">1</span>]]<span class="sc">$</span><span class="st">`</span><span class="at">Pr(&gt;F)</span><span class="st">`</span>[<span class="dv">1</span>], <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb10-32"><a href="#cb10-32" tabindex="-1"></a>      }</span>
<span id="cb10-33"><a href="#cb10-33" tabindex="-1"></a>    </span>
<span id="cb10-34"><a href="#cb10-34" tabindex="-1"></a>  }</span>
<span id="cb10-35"><a href="#cb10-35" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Total signifcant flu cases &quot;</span>, count, <span class="st">&quot;out of &quot;</span>, i, <span class="st">&quot;trials&quot;</span>, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>) </span>
<span id="cb10-36"><a href="#cb10-36" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Smallest mean for significant difference&quot;</span>, smallest_mean_size, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb10-37"><a href="#cb10-37" tabindex="-1"></a>}</span>
<span id="cb10-38"><a href="#cb10-38" tabindex="-1"></a></span>
<span id="cb10-39"><a href="#cb10-39" tabindex="-1"></a>count <span class="ot">=</span> <span class="dv">0</span></span>
<span id="cb10-40"><a href="#cb10-40" tabindex="-1"></a></span>
<span id="cb10-41"><a href="#cb10-41" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(seq_10)) {</span>
<span id="cb10-42"><a href="#cb10-42" tabindex="-1"></a>  flu_cases <span class="ot">&lt;-</span> (<span class="fu">rnorm</span>(n,</span>
<span id="cb10-43"><a href="#cb10-43" tabindex="-1"></a>                   <span class="at">mean =</span> seq_10[i],</span>
<span id="cb10-44"><a href="#cb10-44" tabindex="-1"></a>                   <span class="at">sd =</span> stdev1))</span>
<span id="cb10-45"><a href="#cb10-45" tabindex="-1"></a>  flu_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(flu_cases)</span>
<span id="cb10-46"><a href="#cb10-46" tabindex="-1"></a>  flu_data<span class="sc">$</span>states <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="fu">length</span>(flu_cases), <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb10-47"><a href="#cb10-47" tabindex="-1"></a>  flu_data<span class="sc">$</span>variance <span class="ot">&lt;-</span> <span class="fu">var</span>(flu_cases)</span>
<span id="cb10-48"><a href="#cb10-48" tabindex="-1"></a>  </span>
<span id="cb10-49"><a href="#cb10-49" tabindex="-1"></a>  flu_data_aov <span class="ot">&lt;-</span> <span class="fu">aov</span>(flu_cases<span class="sc">~</span>states, <span class="at">data =</span> flu_data)</span>
<span id="cb10-50"><a href="#cb10-50" tabindex="-1"></a>  flu_data_sum <span class="ot">&lt;-</span> <span class="fu">summary</span>(flu_data_aov)</span>
<span id="cb10-51"><a href="#cb10-51" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>,<span class="st">&quot;The mean is -&gt;&quot;</span>, seq_10[i], <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb10-52"><a href="#cb10-52" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;The p-value is -&gt;&quot;</span>, flu_data_sum[[<span class="dv">1</span>]]<span class="sc">$</span><span class="st">`</span><span class="at">Pr(&gt;F)</span><span class="st">`</span>[<span class="dv">1</span>], <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb10-53"><a href="#cb10-53" tabindex="-1"></a>  </span>
<span id="cb10-54"><a href="#cb10-54" tabindex="-1"></a>  <span class="cf">if</span> (i <span class="sc">&gt;</span> <span class="dv">1</span>) {</span>
<span id="cb10-55"><a href="#cb10-55" tabindex="-1"></a>    <span class="cf">if</span> (flu_data_sum[[<span class="dv">1</span>]]<span class="sc">$</span><span class="st">`</span><span class="at">Pr(&gt;F)</span><span class="st">`</span>[<span class="dv">1</span>] <span class="sc">&lt;</span> <span class="fl">0.05</span>) {</span>
<span id="cb10-56"><a href="#cb10-56" tabindex="-1"></a>      count <span class="ot">=</span> count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb10-57"><a href="#cb10-57" tabindex="-1"></a>     <span class="fu">cat</span>(<span class="st">&quot;There is a signifact difference between colder and warmer region flu cases at a mean value of &quot;</span>, seq_10[i], <span class="st">&quot;with a p-value of &quot;</span>, flu_data_sum[[<span class="dv">1</span>]]<span class="sc">$</span><span class="st">`</span><span class="at">Pr(&gt;F)</span><span class="st">`</span>[<span class="dv">1</span>], <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb10-58"><a href="#cb10-58" tabindex="-1"></a>      }</span>
<span id="cb10-59"><a href="#cb10-59" tabindex="-1"></a>    </span>
<span id="cb10-60"><a href="#cb10-60" tabindex="-1"></a>  }</span>
<span id="cb10-61"><a href="#cb10-61" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Total signifcant flu cases &quot;</span>, count, <span class="st">&quot;out of &quot;</span>, i, <span class="st">&quot;trials&quot;</span>, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>) </span>
<span id="cb10-62"><a href="#cb10-62" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Smallest mean for significant difference&quot;</span>, smallest_mean_size, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb10-63"><a href="#cb10-63" tabindex="-1"></a>}</span></code></pre></div>
<p>Now we will look at altering the standard deviation:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>n <span class="ot">=</span> mean1</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>count <span class="ot">=</span> <span class="dv">0</span></span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>smallest_stdev_size <span class="ot">=</span> <span class="dv">0</span></span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a>seq_5 <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>, n, <span class="at">by =</span> <span class="dv">5</span>)</span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a>seq_10 <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">1</span>, n, <span class="at">by =</span> <span class="dv">10</span>)</span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(seq_5)) {</span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a>  flu_cases <span class="ot">&lt;-</span> (<span class="fu">rnorm</span>(n,</span>
<span id="cb11-11"><a href="#cb11-11" tabindex="-1"></a>                   <span class="at">mean =</span> mean1,</span>
<span id="cb11-12"><a href="#cb11-12" tabindex="-1"></a>                   <span class="at">sd =</span> seq_5[i]))</span>
<span id="cb11-13"><a href="#cb11-13" tabindex="-1"></a>  flu_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(flu_cases)</span>
<span id="cb11-14"><a href="#cb11-14" tabindex="-1"></a>  flu_data<span class="sc">$</span>states <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="fu">length</span>(flu_cases), <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb11-15"><a href="#cb11-15" tabindex="-1"></a>  flu_data<span class="sc">$</span>variance <span class="ot">&lt;-</span> <span class="fu">var</span>(flu_cases)</span>
<span id="cb11-16"><a href="#cb11-16" tabindex="-1"></a>  </span>
<span id="cb11-17"><a href="#cb11-17" tabindex="-1"></a>  flu_data_aov <span class="ot">&lt;-</span> <span class="fu">aov</span>(flu_cases<span class="sc">~</span>states, <span class="at">data =</span> flu_data)</span>
<span id="cb11-18"><a href="#cb11-18" tabindex="-1"></a>  flu_data_sum <span class="ot">&lt;-</span> <span class="fu">summary</span>(flu_data_aov)</span>
<span id="cb11-19"><a href="#cb11-19" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>,<span class="st">&quot;The standard deviation is -&gt;&quot;</span>, seq_5[i], <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb11-20"><a href="#cb11-20" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;The p-value is -&gt;&quot;</span>, flu_data_sum[[<span class="dv">1</span>]]<span class="sc">$</span><span class="st">`</span><span class="at">Pr(&gt;F)</span><span class="st">`</span>[<span class="dv">1</span>], <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb11-21"><a href="#cb11-21" tabindex="-1"></a>  </span>
<span id="cb11-22"><a href="#cb11-22" tabindex="-1"></a>  <span class="cf">if</span> (i <span class="sc">&gt;</span> <span class="dv">1</span> <span class="sc">&amp;</span> count <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb11-23"><a href="#cb11-23" tabindex="-1"></a>     <span class="cf">if</span> (flu_data_sum[[<span class="dv">1</span>]]<span class="sc">$</span><span class="st">`</span><span class="at">Pr(&gt;F)</span><span class="st">`</span>[<span class="dv">1</span>] <span class="sc">&lt;</span> <span class="fl">0.05</span>) {</span>
<span id="cb11-24"><a href="#cb11-24" tabindex="-1"></a>    smallest_stdev_size <span class="ot">=</span> seq_5[i]</span>
<span id="cb11-25"><a href="#cb11-25" tabindex="-1"></a>     }</span>
<span id="cb11-26"><a href="#cb11-26" tabindex="-1"></a>  }</span>
<span id="cb11-27"><a href="#cb11-27" tabindex="-1"></a>  </span>
<span id="cb11-28"><a href="#cb11-28" tabindex="-1"></a>  <span class="cf">if</span> (i <span class="sc">&gt;</span> <span class="dv">1</span>) {</span>
<span id="cb11-29"><a href="#cb11-29" tabindex="-1"></a>    <span class="cf">if</span> (flu_data_sum[[<span class="dv">1</span>]]<span class="sc">$</span><span class="st">`</span><span class="at">Pr(&gt;F)</span><span class="st">`</span>[<span class="dv">1</span>] <span class="sc">&lt;</span> <span class="fl">0.05</span>) {</span>
<span id="cb11-30"><a href="#cb11-30" tabindex="-1"></a>      count <span class="ot">=</span> count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb11-31"><a href="#cb11-31" tabindex="-1"></a>     <span class="fu">cat</span>(<span class="st">&quot;There is a signifact difference between colder and warmer region flu cases at a stdev value of &quot;</span>, smallest_stdev_size, <span class="st">&quot;with a p-value of &quot;</span>, flu_data_sum[[<span class="dv">1</span>]]<span class="sc">$</span><span class="st">`</span><span class="at">Pr(&gt;F)</span><span class="st">`</span>[<span class="dv">1</span>], <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb11-32"><a href="#cb11-32" tabindex="-1"></a>      }</span>
<span id="cb11-33"><a href="#cb11-33" tabindex="-1"></a>    </span>
<span id="cb11-34"><a href="#cb11-34" tabindex="-1"></a>  }</span>
<span id="cb11-35"><a href="#cb11-35" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Total signifcant flu cases &quot;</span>, count, <span class="st">&quot;out of &quot;</span>, i, <span class="st">&quot;trials&quot;</span>, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>) </span>
<span id="cb11-36"><a href="#cb11-36" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Smallest standard deviation size for significant difference&quot;</span>, smallest_stdev_size, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb11-37"><a href="#cb11-37" tabindex="-1"></a>}</span>
<span id="cb11-38"><a href="#cb11-38" tabindex="-1"></a></span>
<span id="cb11-39"><a href="#cb11-39" tabindex="-1"></a>count <span class="ot">=</span> <span class="dv">0</span></span>
<span id="cb11-40"><a href="#cb11-40" tabindex="-1"></a></span>
<span id="cb11-41"><a href="#cb11-41" tabindex="-1"></a></span>
<span id="cb11-42"><a href="#cb11-42" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(seq_10)) {</span>
<span id="cb11-43"><a href="#cb11-43" tabindex="-1"></a>  flu_cases <span class="ot">&lt;-</span> (<span class="fu">rnorm</span>(n,</span>
<span id="cb11-44"><a href="#cb11-44" tabindex="-1"></a>                   <span class="at">mean =</span> mean1,</span>
<span id="cb11-45"><a href="#cb11-45" tabindex="-1"></a>                   <span class="at">sd =</span> seq_10[i]))</span>
<span id="cb11-46"><a href="#cb11-46" tabindex="-1"></a>  flu_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(flu_cases)</span>
<span id="cb11-47"><a href="#cb11-47" tabindex="-1"></a>  flu_data<span class="sc">$</span>states <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="fu">length</span>(flu_cases), <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb11-48"><a href="#cb11-48" tabindex="-1"></a>  flu_data<span class="sc">$</span>variance <span class="ot">&lt;-</span> <span class="fu">var</span>(flu_cases)</span>
<span id="cb11-49"><a href="#cb11-49" tabindex="-1"></a>  </span>
<span id="cb11-50"><a href="#cb11-50" tabindex="-1"></a>  flu_data_aov <span class="ot">&lt;-</span> <span class="fu">aov</span>(flu_cases<span class="sc">~</span>states, <span class="at">data =</span> flu_data)</span>
<span id="cb11-51"><a href="#cb11-51" tabindex="-1"></a>  flu_data_sum <span class="ot">&lt;-</span> <span class="fu">summary</span>(flu_data_aov)</span>
<span id="cb11-52"><a href="#cb11-52" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>,<span class="st">&quot;The standard deviation is -&gt;&quot;</span>, seq_10[i], <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb11-53"><a href="#cb11-53" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;The p-value is -&gt;&quot;</span>, flu_data_sum[[<span class="dv">1</span>]]<span class="sc">$</span><span class="st">`</span><span class="at">Pr(&gt;F)</span><span class="st">`</span>[<span class="dv">1</span>], <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb11-54"><a href="#cb11-54" tabindex="-1"></a>  </span>
<span id="cb11-55"><a href="#cb11-55" tabindex="-1"></a>  <span class="cf">if</span> (i <span class="sc">&gt;</span> <span class="dv">1</span> <span class="sc">&amp;</span> count <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb11-56"><a href="#cb11-56" tabindex="-1"></a>     <span class="cf">if</span> (flu_data_sum[[<span class="dv">1</span>]]<span class="sc">$</span><span class="st">`</span><span class="at">Pr(&gt;F)</span><span class="st">`</span>[<span class="dv">1</span>] <span class="sc">&lt;</span> <span class="fl">0.05</span>) {</span>
<span id="cb11-57"><a href="#cb11-57" tabindex="-1"></a>    smallest_stdev_size <span class="ot">=</span> seq_10[i]</span>
<span id="cb11-58"><a href="#cb11-58" tabindex="-1"></a>     }</span>
<span id="cb11-59"><a href="#cb11-59" tabindex="-1"></a>  }</span>
<span id="cb11-60"><a href="#cb11-60" tabindex="-1"></a>  </span>
<span id="cb11-61"><a href="#cb11-61" tabindex="-1"></a>  <span class="cf">if</span> (i <span class="sc">&gt;</span> <span class="dv">1</span>) {</span>
<span id="cb11-62"><a href="#cb11-62" tabindex="-1"></a>    <span class="cf">if</span> (flu_data_sum[[<span class="dv">1</span>]]<span class="sc">$</span><span class="st">`</span><span class="at">Pr(&gt;F)</span><span class="st">`</span>[<span class="dv">1</span>] <span class="sc">&lt;</span> <span class="fl">0.05</span>) {</span>
<span id="cb11-63"><a href="#cb11-63" tabindex="-1"></a>      count <span class="ot">=</span> count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb11-64"><a href="#cb11-64" tabindex="-1"></a>     <span class="fu">cat</span>(<span class="st">&quot;There is a signifact difference between colder and warmer region flu cases at a stdev value of &quot;</span>, seq_10[i], <span class="st">&quot;with a p-value of &quot;</span>, flu_data_sum[[<span class="dv">1</span>]]<span class="sc">$</span><span class="st">`</span><span class="at">Pr(&gt;F)</span><span class="st">`</span>[<span class="dv">1</span>], <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb11-65"><a href="#cb11-65" tabindex="-1"></a>      }</span>
<span id="cb11-66"><a href="#cb11-66" tabindex="-1"></a>    </span>
<span id="cb11-67"><a href="#cb11-67" tabindex="-1"></a>  }</span>
<span id="cb11-68"><a href="#cb11-68" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Total signifcant flu cases &quot;</span>, count, <span class="st">&quot;out of &quot;</span>, i, <span class="st">&quot;trials&quot;</span>, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>) </span>
<span id="cb11-69"><a href="#cb11-69" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">&quot;Smallest standard deviation size for significant difference&quot;</span>, smallest_stdev_size, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb11-70"><a href="#cb11-70" tabindex="-1"></a>}</span></code></pre></div>
<p>Looking back at our original data, set up at the top, what is the
smallest sample size I could do to get a significant value?</p>
<p>After numerous runs, the best I got was a sample size of 40, but this
was due to random generation, you can see that we run it with 40 as the
sample size, we might not repeat this result. Side note - this is why
set.seed is helpful for sharing code/data so we can repeat results. In
this example, we are working with random data every time</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>flu_cases <span class="ot">&lt;-</span> (<span class="fu">rnorm</span>(<span class="dv">40</span>,</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>                   <span class="at">mean =</span> mean1,</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>                   <span class="at">sd =</span> stdev1))</span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>  flu_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(flu_cases)</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a>  flu_data<span class="sc">$</span>states <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="fu">length</span>(flu_cases), <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a>  flu_data<span class="sc">$</span>variance <span class="ot">&lt;-</span> <span class="fu">var</span>(flu_cases)</span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a>  </span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a>  flu_data_aov <span class="ot">&lt;-</span> <span class="fu">aov</span>(flu_cases<span class="sc">~</span>states, <span class="at">data =</span> flu_data)</span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a>  flu_data_sum <span class="ot">&lt;-</span> <span class="fu">summary</span>(flu_data_aov)</span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a>  flu_data_sum</span></code></pre></div>
<pre><code>##             Df Sum Sq Mean Sq F value Pr(&gt;F)
## states       1   17.8   17.78   1.381  0.247
## Residuals   38  489.2   12.87</code></pre>
<p>We can see all in all that through manipulation of mean and sample
size, we notice about 5-15% of the runs will result in a significant
difference of flu cases between warmer and colder regions. Switching
standard deviation gives us about 0-33% of the runs result in
significant difference.</p>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
